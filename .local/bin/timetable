#!/bin/bash

# Get pdf through curl
curl -k -o full_timetable.pdf https://lahore.comsats.edu.pk/student/20250913-1600-classes.pdf || {
  echo ":( Download failed! Try again."
  exit 1
}

# Get page number
page=$(pdfgrep -n -i 'sp25-bse-a' 'full_timetable.pdf' | cut -d: -f1 | sort -u)

# extract the page from pdf
pdftk 'full_timetable.pdf' cat "$page" output 'timetable.pdf' && rm 'full_timetable.pdf'

# move the timetable.pdf file to a convenient location
mv timetable.pdf ~/Downloads/
