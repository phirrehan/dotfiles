# ┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓
# ┃                         Keybinds                            ┃
# ┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛

exec = hyprctl dispatch submap global
submap = global

# ======= Launcher ======
bindi = SUPER, SUPER_L, global, caelestia:launcher
bindin = SUPER, catchall, global, caelestia:launcherInterrupt
bindin = SUPER, mouse:272, global, caelestia:launcherInterrupt
bindin = SUPER, mouse:273, global, caelestia:launcherInterrupt
bindin = SUPER, mouse:274, global, caelestia:launcherInterrupt
bindin = SUPER, mouse:275, global, caelestia:launcherInterrupt
bindin = SUPER, mouse:276, global, caelestia:launcherInterrupt
bindin = SUPER, mouse:277, global, caelestia:launcherInterrupt
bindin = SUPER, mouse_up, global, caelestia:launcherInterrupt
bindin = SUPER, mouse_down, global, caelestia:launcherInterrupt

# ======= Misc ======

bindl = SUPER ALT, C, global, caelestia:clearNotifs
bindl = SUPER, X, exec, caelestia shell drawers toggle sidebar
bind = SUPER, Slash, global, caelestia:lock

# ======= Brightness & Temperature ======

bindl = , XF86MonBrightnessUp, global, caelestia:brightnessUp
bindl = , XF86MonBrightnessDown, global, caelestia:brightnessDown
bindl = SUPER CTRL, BracketLeft, global, caelestia:brightnessUp
bindl = SUPER CTRL, Apostrophe, global, caelestia:brightnessDown
bindel = SUPER SHIFT, BracketLeft, exec, hyprctl hyprsunset temperature +250
bindel = SUPER SHIFT, Apostrophe, exec, hyprctl hyprsunset temperature -250
binddel = SUPER+SHIFT, BracketRight, Set Default Temperature, exec, hyprctl hyprsunset temperature 6000

# ======= Media ======

bindl = SUPER ALT, BracketRight, exec, playerctl play-pause
bindl = SUPER ALT, Backslash, exec, playerctl next
bindl = SUPER ALT, Semicolon, exec, playerctl previous
bindl = SUPER ALT, BracketLeft, exec, playerctl volume 0.05+
bindl = SUPER ALT, Apostrophe, exec, playerctl volume 0.05-

# ======= Toggle Caelestia Shell ======

bindr = SUPER SHIFT, R, exec, qs -c caelestia kill || caelestia shell -d

# ======= Workspace Actions ======

$wsaction = ~/.config/hypr/scripts/wsaction.fish
bind = SUPER, 1, workspace, 1
bind = SUPER, 2, workspace, 2
bind = SUPER, 3, workspace, 3
bind = SUPER, 4, workspace, 4
bind = SUPER, 5, workspace, 5
bind = SUPER, 6, workspace, 6
bind = SUPER, 7, workspace, 7
bind = SUPER, 8, workspace, 8
bind = SUPER, 9, workspace, 9
bind = SUPER, 0, workspace, 10
# Go to workspace -1/+1
bind = SUPER, mouse_down, workspace, -1
bind = SUPER, mouse_up, workspace, +1
binde = SUPER, P, workspace, -1
binde = SUPER, N, workspace, +1
# Toggle special workspace
# bind = SUPER, Equal, exec, caelestia toggle specialws
# Send window to workspace #
bind = SUPER SHIFT, 1, movetoworkspacesilent, 1
bind = SUPER SHIFT, 2, movetoworkspacesilent, 2
bind = SUPER SHIFT, 3, movetoworkspacesilent, 3
bind = SUPER SHIFT, 4, movetoworkspacesilent, 4
bind = SUPER SHIFT, 5, movetoworkspacesilent, 5
bind = SUPER SHIFT, 6, movetoworkspacesilent, 6
bind = SUPER SHIFT, 7, movetoworkspacesilent, 7
bind = SUPER SHIFT, 8, movetoworkspacesilent, 8
bind = SUPER SHIFT, 9, movetoworkspacesilent, 9
bind = SUPER SHIFT, 0, movetoworkspacesilent, 10
#Move with window to workspace #
bind = SUPER CTRL, 1, exec, $wsaction movetoworkspace 1
bind = SUPER CTRL, 2, movetoworkspace, 2
bind = SUPER CTRL, 3, movetoworkspace, 3
bind = SUPER CTRL, 4, movetoworkspace, 4
bind = SUPER CTRL, 5, movetoworkspace, 5
bind = SUPER CTRL, 6, movetoworkspace, 6
bind = SUPER CTRL, 7, movetoworkspace, 7
bind = SUPER CTRL, 8, movetoworkspace, 8
bind = SUPER CTRL, 9, movetoworkspace, 9
bind = SUPER CTRL, 10, movetoworkspace, 10
# Move window to/from special workspace
bind = SUPER SHIFT CTRL, up, movetoworkspace, special:special
bind = SUPER SHIFT CTRL, down, movetoworkspace, e+0
bind = SUPER SHIFT CTRL, S, movetoworkspace, special:special

# ======= Window Actions ======

bind = SUPER, H, movefocus, l
bind = SUPER, L, movefocus, r
bind = SUPER, K, movefocus, u
bind = SUPER, J, movefocus, d
binde = SUPER SHIFT, L, movewindow, r
binde = SUPER SHIFT, K, movewindow, u
binde = SUPER SHIFT, J, movewindow, d
binde = SUPER SHIFT, H, movewindow, l
bind = SUPER SHIFT, H, movewindow, l
bind = SUPER SHIFT, L, movewindow, r
bind = SUPER SHIFT, K, movewindow, u
bind = SUPER SHIFT, J, movewindow, d
binde = SUPER, Minus, splitratio, -0.1
binde = SUPER, Equal, splitratio, 0.1
bindm = SUPER, mouse:272, movewindow
bindm = SUPER, mouse:273, resizewindow
# bind = Ctrl+SUPER, Backslash, centerwindow, 1
# bind = Ctrl+SUPER+Alt, Backslash, resizeactive, exact 55% 70%
# bind = Ctrl+SUPER+Alt, Backslash, centerwindow, 1
bind = SUPER, C, togglegroup
bind = SUPER CTRL, U, exec, caelestia pip  # Move window to picture-in-picture mode
bind = SUPER, Y, pin, 
bind = SUPER, F, fullscreen, 0
bind = SUPER SHIFT, F, fullscreen, 1  # Fullscreen with borders
bind = SUPER, V, togglefloating,
bind = SUPER, D, togglesplit,
bind = SUPER, Q, killactive,
bind = SUPER SHIFT, Q, exec, kill "$(hyprctl activewindow | awk '/pid/ { print $2 }')"

# ======= Special Workspaces ======

# bind = SUPER, M, exec, caelestia toggle music
# bind = SUPER, D, exec, caelestia toggle communication
# bind = SUPER, R, exec, caelestia toggle todo

# ======= Apps ======

bind = SUPER, RETURN, exec, $terminal
bind = SUPER, B, exec, prime-run $browser
bind = SUPER SHIFT, B, exec, prime-run $browser --private-window
bind = SUPER, E, exec, $fileExplorer
bind = SUPER SHIFT, V, exec, pavucontrol
bind = CTRL SHIFT, Escape, exec, foot --app-id "script" -c ~/.config/foot/foot.ini -e sh -c "btop"

# ======= Utilities ======

bindl = , Print, exec, caelestia screenshot  # Full screen capture > clipboard
bind = SHIFT, Print, global, caelestia:screenshotFreeze  # Capture region (freeze)
# bind = , Print, global, caelestia:screenshot  # Capture region
bind = SUPER, Print, exec, caelestia record -s  # Record screen with sound
# bind = Ctrl+Alt, R, exec, caelestia record  # Record screen
bind = SUPER SHIFT, Print, exec, caelestia record -r  # Record region
bind = SUPER SHIFT, P, exec, hyprpicker -a  # Colour picker

# ======= Volume ======

$volUp = wpctl set-mute @DEFAULT_AUDIO_SINK@ 0; wpctl set-volume -l 1 @DEFAULT_AUDIO_SINK@ $volumeStep%+
$volDown = wpctl set-mute @DEFAULT_AUDIO_SINK@ 0; wpctl set-volume @DEFAULT_AUDIO_SINK@ $volumeStep%-
bindl = , XF86AudioMute, exec, wpctl set-mute @DEFAULT_AUDIO_SINK@ toggle
bindl = , XF86AudioMicMute, exec, wpctl set-mute @DEFAULT_SOURCE@ toggle
bindl = SUPER SHIFT, M, exec, wpctl set-mute @DEFAULT_SOURCE@ toggle
bindl = SUPER, M, exec, wpctl set-mute @DEFAULT_AUDIO_SINK@ toggle
bindle = , XF86AudioRaiseVolume, exec, $volUp
bindle = SUPER, BracketLeft, exec, $volUp
bindle = , XF86AudioLowerVolume, exec, $volDown
bindle = SUPER, Apostrophe, exec, $volDown

# ======= Clipboard & Emoji Picker ======

bind = SUPER, Comma, exec, pkill fuzzel || caelestia clipboard
bind = SUPER SHIFT, Comma, exec, pkill fuzzel || caelestia clipboard -d
bind = SUPER, Period, exec, pkill fuzzel || caelestia emoji -p

# ======= Scripts Shortcuts =======

$scriptsDir = $HOME/.local/bin
binddl = SUPER CTRL, BracketRight, Toggle the Touchpad, exec, $scriptsDir/toggle-touchpad
bindd = SUPER, S, Search for directories, exec, $scriptsDir/folderfind
bindd = SUPER ALT, V, Enable/Disable Cloudflare Warp, exec, $scriptsDir/warp
bindd = SUPER ALT, P, Copy password to clipboard, exec, $scriptsDir/passget
bindd = SUPER CTRL, P, Add a password, exec, foot --app-id="script" -c ~/.config/foot/footfzf.ini -e sh -c "$scriptsDir/passgen"
bindd = SUPER ALT, D, Download image in clipboard with .jpg format, exec, $scriptsDir/downimg
